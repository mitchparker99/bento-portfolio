---
import Card from "./Card/index.astro";
import { onMount } from "solid-js";
import * as p5 from "p5";
---

<script context="module">
  export function setup() {
    onMount(() => {
      const sketch = (p) => {
        p.setup = () => {
          p.createCanvas(720, 400);
          p.colorMode(p.HSB);
          p.noStroke();
        };

        p.draw = () => {
          p.background(0);

          // Scale the mouseX value from 0 to 720 to a range between 0 and 360
          let circleHue = p.map(p.mouseX, 0, p.width, 0, 360);

          // Scale the mouseY value from 0 to 400 to a range between 20 and 300
          let diameter = p.map(p.mouseY, 0, p.height, 20, 300);

          p.fill(circleHue, 80, 90);
          p.circle(p.width / 2, p.height / 2, diameter);
        };
      };

      new p5(sketch);
    });
  }
</script>
